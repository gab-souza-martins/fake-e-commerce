@if (!cartItems||cartItems.length === 0){
<p class="empty-message gray-text">Your cart is empty</p>
}
<!--  -->
@if (cartItems&&cartItems.length > 0){
<div class="checkout-container">
  <section class="items-container">
    @for (item of cartItems; track item.id) {<app-checkout-item [item]="item" />}
  </section>

  <section class="options-container">
    <div class="shipping-options">
      <div class="option">
        <input
          type="radio"
          name="shippingOpt"
          id="regularShip"
          value="3.99"
          checked
          (change)="handleShippingSelect($event)"
          [ngClass]="{ selected: shipping() === 3.99 }"
        />
        <label for="regularShip"> <fa-icon [icon]="faTruck" /> Regular shipping </label>
      </div>

      <div class="option">
        <input
          type="radio"
          name="shippingOpt"
          id="fastShip"
          value="5.99"
          (change)="handleShippingSelect($event)"
          [ngClass]="{ selected: shipping() === 5.99 }"
        />
        <label for="fastShip"> <fa-icon [icon]="faTruckFast" /> Fast shipping </label>
      </div>

      <div class="option">
        <input
          type="radio"
          name="shippingOpt"
          id="sameDayShip"
          value="9.99"
          (change)="handleShippingSelect($event)"
          [ngClass]="{ selected: shipping() === 9.99 }"
        />
        <label for="sameDayShip"> <fa-icon [icon]="faSun" /> Same day shipping </label>
      </div>
    </div>

    <div class="payment-options">
      <div class="option">
        <input
          type="radio"
          name="paymentOpt"
          id="payBoleto"
          value="boleto"
          checked
          (change)="handlePaymentSelect($event)"
          [ngClass]="{ selected: payment() === 'boleto' }"
        />
        <label for="payBoleto"> <fa-icon [icon]="faReceipt" /> Boleto </label>
      </div>

      <div class="option">
        <input
          type="radio"
          name="paymentOpt"
          id="payPix"
          value="Pix"
          (change)="handlePaymentSelect($event)"
          [ngClass]="{ selected: payment() === 'Pix' }"
        />
        <label for="payPix"> <fa-icon [icon]="faQrcode" /> Pix </label>
      </div>

      <div class="option">
        <input
          type="radio"
          name="paymentOpt"
          id="payDebit"
          value="débito"
          (change)="handlePaymentSelect($event)"
          [ngClass]="{ selected: payment() === 'débito' }"
        />
        <label for="payDebit"> <fa-icon [icon]="faCreditCard" /> Débito </label>
      </div>

      <div class="option">
        <input
          type="radio"
          name="paymentOpt"
          id="payCredit"
          value="crédito"
          (change)="handlePaymentSelect($event)"
          [ngClass]="{ selected: payment() === 'crédito' }"
        />
        <label for="payCredit"> <fa-icon [icon]="faCreditCard" /> Crédito </label>
      </div>
    </div>
  </section>

  <section class="final-price">
    <div class="text-row">
      <span class="gray-text">Shipping: </span>
      <span>
        {{ shipping().toLocaleString('en', { style: 'currency', currency: 'USD' }) }}
      </span>
    </div>

    <div class="text-row">
      <span class="gray-text">Items: </span>
      <span>
        {{ itemPrice.toLocaleString('en', { style: 'currency', currency: 'USD' }) }}
      </span>
    </div>

    <div class="text-row">
      <span class="gray-text">Total: </span>
      <span class="total-price">
        {{ total.toLocaleString('en', { style: 'currency', currency: 'USD' }) }}
      </span>
    </div>

    @if (!enableBuying()) {
    <p class="error-message">Escolha uma opção de frete e de pagamento para prosseguir</p>
    }

    <button class="purchase-btn" routerLink="/purchase-complete" [disabled]="!enableBuying()">
      <fa-icon [icon]="faBasket" />
      Finish purchase
    </button>
  </section>
</div>
}
